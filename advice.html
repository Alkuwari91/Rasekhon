<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>الاستشارات الفورية - الراسخون</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(to right, #f1fdfc, #e0f7fa);
      color: #004d40;
      margin: 0;
      padding: 2em;
      direction: rtl;
    }

    header {
      text-align: center;
      margin-bottom: 2em;
    }

    h1 {
      font-size: 2.2em;
      color: #00796b;
    }

    p.description {
      max-width: 700px;
      margin: 1em auto;
      font-size: 1.1em;
      color: #333;
    }

    form {
      max-width: 700px;
      margin: 2em auto;
      background-color: #ffffff;
      padding: 2em;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    }

    label {
      display: block;
      margin-top: 1em;
      font-weight: bold;
    }

    select, textarea {
      width: 100%;
      padding: 0.8em;
      margin-top: 0.4em;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1em;
    }

    button {
      margin-top: 1.5em;
      background-color: #00796b;
      color: white;
      padding: 0.8em 1.5em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
    }

    button:hover {
      background-color: #004d40;
    }

    .confirmation, .bot-response {
      display: none;
      margin-top: 1.5em;
      background-color: #d0f0d9;
      padding: 1em;
      border-radius: 6px;
      color: #2e7d32;
      font-weight: bold;
    }

    .back-link {
      text-align: center;
      margin-top: 3em;
    }

    .back-link a {
      text-decoration: none;
      background-color: #004d40;
      color: white;
      padding: 0.6em 1.2em;
      border-radius: 8px;
      font-weight: bold;
    }

    /* رشد - المساعد الذكي */
    .chatbot-icon {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: #00796b;
      color: white;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      font-size: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 999;
    }

    .chatbox {
      position: fixed;
      bottom: 90px;
      left: 20px;
      width: 300px;
      max-height: 400px;
      background: white;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 1em;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      display: none;
      flex-direction: column;
      z-index: 999;
    }

    .chatbox textarea {
      width: 100%;
      padding: 0.5em;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-top: 1em;
      font-size: 0.95em;
    }

    .chatbox button {
      margin-top: 0.5em;
      background-color: #00796b;
      color: white;
      padding: 0.5em 1em;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .chat-response {
      margin-top: 1em;
      font-size: 0.95em;
      color: #004d40;
    }
  </style>
</head>
<body>

  <header>
    <h1>الاستشارات الفورية</h1>
    <p class="description">
      اكتب لنا عن موقفك القيادي، وسيتفاعل "رُشد" معك فورًا، ثم يصلك رد بشري من أحد مستشارينا خلال 24 ساعة.
    </p>
  </header>

  <form id="adviceForm">
    <label for="category">نوع الاستشارة:</label>
    <select id="category" required>
      <option value="">اختر نوع الاستشارة</option>
      <option value="صراع داخل الفريق">صراع داخل الفريق</option>
      <option value="اتخاذ قرار">اتخاذ قرار</option>
      <option value="تواصل مع المدير">تواصل مع المدير</option>
      <option value="رفض الأوامر">رفض الأوامر</option>
      <option value="قيادة في أزمة">قيادة في أزمة</option>
    </select>

    <label for="situation">صف الموقف بالتفصيل:</label>
    <textarea id="situation" required placeholder="اكتب هنا ما تواجهه بدقة..."></textarea>

    <button type="submit">إرسال الاستشارة</button>
    <div class="confirmation" id="confirmationBox">✅ تم استلام استشارتك بنجاح. سنعود إليك قريبًا.</div>
    <div class="bot-response" id="botResponse"></div>
  </form>

  <div class="back-link">
    <a href="index.html">🔙 العودة إلى الصفحة الرئيسية</a>
  </div>

  <!-- مساعد الذكاء "رشد" -->
  <div class="chatbot-icon" onclick="toggleChatbox()">💬</div>

  <div class="chatbox" id="chatbox">
    <strong>🧠 "رُشد" – مساعد القيادة الذكي:</strong>
    <p>ما نوع الموقف الذي تواجهه؟ وسأقترح عليك نصيحة فورية:</p>
    <textarea id="chatInput" placeholder="مثال: عندي صراع في الفريق..."></textarea>
    <button onclick="handleChat()">إرسال</button>
    <div class="chat-response" id="chatResponse"></div>
  </div>

  <script>
    // نموذج الاستشارة
    document.getElementById("adviceForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const category = document.getElementById("category").value;
      const text = document.getElementById("situation").value;

      document.getElementById("confirmationBox").style.display = "block";

      const response = botResponse(text);
      const botBox = document.getElementById("botResponse");
      botBox.innerText = response;
      botBox.style.display = "block";
    });

    // الرد الآلي
    function botResponse(text) {
      const keywords = {
        "صراع": "في حالات الصراع، استمع لجميع الأطراف بتجرد، ثم بادر بتقريب وجهات النظر.",
        "اتخاذ قرار": "إذا كنت أمام قرار حاسم، استخدم تحليل SWOT أو استشارة ذوي الخبرة.",
        "رفض": "ابدأ بفهم سبب الرفض، أحيانًا يكون وراءه ضعف تواصل أو خوف من التغيير.",
        "تواصل": "وضّح نيتك وتوقعاتك عند التواصل مع مديرك، واطلب تغذية راجعة صادقة.",
        "أزمة": "في الأزمات، القيادة تتطلب وضوحًا وهدوءًا، ضع خطة سريعة وتواصل بشكل مستمر."
      };

      for (let key in keywords) {
        if (text.includes(key)) return keywords[key];
      }

      return "تم استلام استشارتك وسيرد عليك أحد مستشارينا خلال 24 ساعة.";
    }

    // رشد - فتح/إغلاق المساعد
    function toggleChatbox() {
      const box = document.getElementById("chatbox");
      box.style.display = (box.style.display === "flex") ? "none" : "flex";
    }

    // رشد - الرد السريع
    function handleChat() {
      const input = document.getElementById("chatInput").value.toLowerCase();
      const responseBox = document.getElementById("chatResponse");

      const responses = {
        "صراع": "جرب استخدام وسيط داخلي لإعادة بناء الثقة.",
        "تأخير": "وضح أثر التأخير على الفريق، وحدد مواعيد بديلة واضحة.",
        "تحدي": "واجه التحدي بتحليل دقيق، واطلب الدعم عند الحاجة.",
        "رفض": "تفهّم أسباب الرفض، ثم حاول تقديم الأمر بأسلوب محفز.",
        "أزمة": "ابدأ بالتواصل، ثم خطط، ثم نفّذ بخطوات واضحة."
      };

      let found = false;
      for (let key in responses) {
        if (input.includes(key)) {
          responseBox.textContent = responses[key];
          found = true;
          break;
        }
      }

      if (!found) {
        responseBox.textContent = "رجاءً صف الموقف بدقة وسأقترح حلاً مناسبًا.";
      }
    }
  </script>

</body>
</html>
